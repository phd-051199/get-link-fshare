$(document).ready(function(){$(document).on("input","#original, #password",function(){$("#urlError").hide(),$("#create").removeAttr("disabled"),$("#fileName").html("Generated Link")}),$("#download").click(function(e){e.preventDefault(),document.location.href=$("#generated").val()}),$("#openInVLC").click(function(e){e.preventDefault(),document.location.href=`vlc://${$("#generated").val()}`}),$("#create").click(function(){var e=/^https:\/\/www\.fshare\.vn\/file\/.+/,a=e.test($("#original").val())?$("#original").val():`https://${$("#original").val()}`,t=$("#password").val();e.test(a)?($("#create").html('<span class="spinner-border spinner-border-sm ml-4 mr-4" role="status" aria-hidden="true"></span>').attr("disabled",!0),$.get("/generate",{url:a,password:t},function(e){$("#create").html("Get Link"),200==e.code?($("#generated").val(e.location.replace("fshare.vn","proxy.phamduy.me").replace("http://","https://")),$("#fileName").html(`File name: <span class='text-success'>${decodeURI($("#generated").val().split("/").pop())}</span>`),$("#copy").removeAttr("disabled"),$("#download").removeAttr("disabled"),$("#openInVLC").removeAttr("disabled")):($("#copy").prop("disabled","disabled"),$("#download").prop("disabled","disabled"),$("#openInVLC").prop("disabled","disabled"),123==e.code?$("#generated").val("Invalid file password!"):404==e.code?$("#generated").val("File not found!"):$("#generated").val("Something went wrong!"))})):$("#urlError").show()}),$(".js-textareacopybtn").click(function(e){e.preventDefault();var a=$(this).data("id");$("#"+a)[0].select();try{document.execCommand("copy")}catch(e){console.log("Oops, unable to copy")}})});
